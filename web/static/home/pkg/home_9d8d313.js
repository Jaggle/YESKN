define("home:widget/ContentPlayer/ContentPlayer.js",function(t,e){function n(t,e){for(var n in t)e[n]=t[n]}var i=baidu.event.on,r=baidu,s=!1;if("undefined"==typeof o)var o={};var a=function(){function t(t){t&&"object"==typeof t&&t.handleMessage&&this.observers.push(t)}function e(t){for(var e=this.observers,n=0;n<e.length;n++)e[n].handleMessage(t)}return{addObserver:t,notify:e}}();o.View=function(t){this.container=t.container,this.data=t.data||null,this.tpl=t.tpl||"",this.curIndex=t.curIndex||0,this.needFadeIn=t.needFadeIn||!1,this.observers=[],this.fadeInTimer=0,this.initOpacity=.1,this.curOpacity=.1,this.opacityDiff=.1},o.View.prototype.init=function(){this.registerEvent(),this.render()},o.View.prototype.registerEvent=function(){var t=this;i(this.container,"mouseover",function(){t.notify({type:"STOP"})}),i(this.container,"mouseout",function(){t.notify({type:"PLAY",param:{step:1}})})},o.View.prototype.render=function(){},o.View.prototype.fadeIn=function(){var t=this;window.clearInterval(this.fadeInTimer),this.curOpacity=this.initOpacity,this.fadeInTimer=window.setInterval(function(){var e;e=t.opacityDiff,r.Browser.isIE?t.curOpacity<1?(t.curOpacity+=e,t.container.style.filter="alpha(opacity="+100*t.curOpacity+")"):(t.curOpacity=1,t.container.style.filter="alpha(opacity="+100*t.curOpacity+")",window.clearInterval(this.fadeInTimer)):t.curOpacity<1?(t.curOpacity+=e,t.container.style.opacity=t.curOpacity):(t.curOpacity=1,t.container.style.opacity=t.curOpacity,window.clearInterval(this.fadeInTimer))},50)},o.View.prototype.handleMessage=function(t){var e,n,i,r,s,o;switch(e=this.data,n=this.tpl,i=this.curIndex,r=e.length,t.type){case"NEXT":s=t.param.step,i=(i+s)%r;break;case"PREV":s=t.param.step,i=(r+i-s)%r;break;case"GOTO":o=t.param.index,i=o%r;break;default:return}this.curIndex=i,this.render(),this.needFadeIn&&this.fadeIn()},n(a,o.View.prototype),o.ControlPanel=function(t){this.getBtns=t.getBtns||function(){return[]},this.data=t.data||[],this.curIndex=t.curIndex||0,this.style=t.style||null,this.observers=[],this.imgCache=window[Math.random()]=[],this.prevBtn=t.prevBtn,this.nextBtn=t.nextBtn,this.changeAction=t.changeAction||"mousedown"},o.ControlPanel.prototype.init=function(){this.registerEvent(),this.setStyle(),this.imgPreload()},o.ControlPanel.prototype.next=function(t){var e,n;e=this.data.length,n=this.curIndex,this.curIndex=(e+n+t)%e,this.setStyle(),this.notify({type:"NEXT",param:{step:t}}),s&&s()},o.ControlPanel.prototype.prev=function(t){var e,n;e=this.data.length,n=this.curIndex,this.curIndex=(e+n-t)%e,this.setStyle(),this.notify({type:"PREV",param:{step:t}}),s&&s()},o.ControlPanel.prototype.go=function(){this.setStyle(),this.notify({type:"GOTO",param:{index:this.curIndex}}),s&&s()},o.ControlPanel.prototype.registerEvent=function(){var t,e;e=this,t=this.getBtns();for(var n=0;n<t.length;n++)!function(){var r=t[n],s=n;i(r,e.changeAction,function(){e.curIndex=s,e.setStyle(),e.go()}),i(r,"mouseover",function(){e.notify({type:"STOP"})}),i(r,"mouseout",function(){e.notify({type:"PLAY",param:{step:1}})})}();this.prevBtn&&(i(this.prevBtn,"click",function(){this.blur(),e.prev(1)}),i(this.prevBtn,"mouseover",function(){e.notify({type:"STOP"})}),i(this.prevBtn,"mouseout",function(){e.notify({type:"PLAY",param:{step:1}})})),this.nextBtn&&(i(this.nextBtn,"click",function(){this.blur(),e.next(1)}),i(this.nextBtn,"mouseover",function(){e.notify({type:"STOP"})}),i(this.nextBtn,"mouseout",function(){e.notify({type:"PLAY",param:{step:1}})}))},o.ControlPanel.prototype.setStyle=function(){var t;t=this.getBtns();for(var e=0,n=t.length;n>e;e++)t[e].className=e!=this.curIndex?this.style.off:this.style.on},o.ControlPanel.prototype.handleMessage=function(){},o.ControlPanel.prototype.imgPreload=function(){var t,e;t=this.data;for(var n=0;n<t.length;n++)t[n].imgUrl&&(e=new Image,e.src=t[n].imgUrl,this.imgCache.push(e))},n(a,o.ControlPanel.prototype),o.Model=function(t){this.interval=t.interval||4e3,t.container=t.mainViewContainer,t.tpl=t.mainViewTpl,t.needFadeIn=!1,this.mv=new o.View(t),t.container=t.subViewContainer,t.tpl=t.subViewTpl,t.needFadeIn=!1,this.sv=new o.View(t),this.cp=new o.ControlPanel(t),this.timerId=0,this.observers=[],this.init()},o.Model.prototype.init=function(){this.mv.init(),this.sv.init(),this.cp.init(),this.cp.addObserver(this.mv),this.cp.addObserver(this.sv),this.cp.addObserver(this),this.mv.addObserver(this),this.sv.addObserver(this)},o.Model.prototype.play=function(t,e){!s&&e&&(s=e);var n=this;this.stop(),this.timerId=window.setInterval(function(){n.cp.next(t)},this.interval)},o.Model.prototype.stop=function(){window.clearInterval(this.timerId)},o.Model.prototype.handleMessage=function(t){switch(t.type){case"STOP":this.stop();break;case"PLAY":this.play(t.param.step)}},e.ContentPlayer=o});
;define("home:widget/UserMonitor/UserMonitor.js",function(e,n){var t=function(){function e(e){if(e){var n="log__"+(new Date).getTime(),t=window[n]=new Image;t.onload=t.onerror=function(){window[n]=null},t.src=e,t=null}}function n(e){var n=[];if(!e)return"";for(var t in e)n.push(t+"="+encodeURIComponent(e[t]));return n.join("&")}function t(e,n){var t="";return e?(n&&(t=n+"&"),t+="ra="+Math.random(),-1<e.indexOf("?")?e+"&"+t:e+"?"+t):""}function r(e){return e?(e=e.replace(/<[^>]*>/g,""),e.replace(/(^[\s\t\xa0\u3000]+)|([\u3000\xa0\s\t]+$)/g,"")):""}function o(e,n){for(var t in e)(void 0===n[t]||null===n[t])&&(n[t]=e[t])}function a(a,i,u){var f,c,d,a=a||window.event,p=a.srcElement||a.target,l=g[i],v="http://log.news.baidu.com/v.gif";d={pid:107,url:"",type:0,t:r(p.innerHTML),u:""},o(u,d),o(l,d),c=n(d),f=t(v,c),e(f)}function i(a,i,u){var f,c,d,a=a||window.event,p=a.srcElement||a.target,l=g[i],v="http://log.news.baidu.com/v.gif";"A"==p.tagName.toUpperCase()&&(d={pid:107,url:p.href,type:0},o(l,d),o(u,d),d.t=r(p.innerHTML),d.u=p.href,c=n(d),f=t(v,c),e(f))}function u(a,i,u){var f,c,d,p,a=a||window.event,l=a.srcElement||a.target,v=g[i],m="http://log.news.baidu.com/v.gif";if("IMG"==l.tagName.toUpperCase()){for(p=l.parentNode;p&&"A"!=p.tagName.toUpperCase();)p=p.parentNode;p&&(d={pid:107,url:p.href,type:0},o(v,d),o(u,d),d.t=r(p.innerHTML),d.u=p.href,c=n(d),f=t(m,c),e(f))}}function f(r,a,i){var u,f,c,d=r||window.event,p=d.srcElement||d.target,l=g[a],v="http://log.news.baidu.com/v.gif";"INPUT"==p.tagName.toUpperCase()&&"代码/名称/拼音"!=p.form.code.value&&(c={pid:107,url:t(p.form.action,"code="+p.form.code.value),type:0},o(l,c),o(i,c),c.t=p.form.code.value,c.u=t(p.form.action,"code="+p.form.code.value),f=n(c),u=t(v,f),e(u))}function c(r,a,i){var u,f,c,r=r||window.event,d=(r.srcElement||r.target,g[a]),p="http://log.news.baidu.com/v.gif";c={pid:107,url:"",type:0},o(d,c),o(i,c),c.u="",f=n(c),u=t(p,f),e(u)}function d(r,a,i){var u,f,c,r=r||window.event,d=(r.srcElement||r.target,g[a]),p="http://log.news.baidu.com/v.gif";c={pid:107,url:"",type:0},o(d,c),o(i,c),c.u="",c.t="",f=n(c),u=t(p,f),e(u)}function p(e,n,t){var r=l[n];r&&r(e,n,t)}var l={1:a,2:i,3:u,4:f,5:c,6:d},v=parent.extraInfo?parent.extraInfo:window.extraInfo,g={1:v,2:v,3:v,4:v,5:v,6:v};return v||(v={}),{send:p}}();n.UserMonitor=t});
;define("home:widget/bottomshare/bottomshare.js",function(e,t,i){function n(){var e=window.navigator.userAgent;if(e.indexOf("MSIE")>-1){var t=e.indexOf("MSIE")+5,i=e.substr(t,3);if(parseInt(i,10)<=9)var n="table"}else var n="canvas";var o=!1;$(".bjweixin2").click(function(){return $(".bjcode2").show(),o=!0,!1}),$(".closeweixin2").click(function(){return $(".bjcode2").hide(),o=!1,!1}),$(document).click(function(){o&&($(".bjcode2").hide(),o=!1)}),$(".sharecode_o").qrcode({text:window.location.href,width:133,height:133,render:n});var r=setInterval(function(){$(".bds_weixin").attr("title")&&($(".bds_weixin").removeAttr("title"),clearInterval(r))},100);$(".bds_more").bind("mousemove",function(){return!1})}e("common:widget/dep/jquery/jquery.js"),e("common:widget/dep/jquery/plugin/jquery.qrcode.js"),i.exports={init:n}});
;define("home:widget/bt0asideusrlis/bt0asideusrlis.js",function(i,s,t){i("common:widget/dep/tangram/tangram.js"),i("common:widget/dep/jquery/jquery.js");var n={};n.init=function(){h.init()};var h={init:function(){this.imglisbg=$(".imglisbg"),this.imglis=this.imglisbg.find("ul"),this.mod=this.imglisbg.closest(".mod"),this.upbtn=this.mod.find(".upA"),this.downbtn=this.mod.find(".downA"),this.pn=1,this.per=143,this.num=3,this.total=Math.ceil(this.imglisbg.find("li").length/3),this.focusbox=$(".focus_box"),this.focusli=this.focusbox.find("li a"),this.imglisbg.find("li").length<3&&this.mod.find(".opt").hide(),this.upbtn.on("click",$.proxy(this.changeData,this)),this.downbtn.on("click",$.proxy(this.changeData,this)),this.focusli.on("click",$.proxy(this.changeFocus,this))},changeData:function(i){var s=$(i.currentTarget),t=s.find(".i");t.hasClass("iup")&&!t.hasClass("iupdis")&&(this.pn--,this.imglis.css("top","-"+(this.pn-1)*this.per*this.num+"px"),this.downbtn.find(".i").removeClass("idowndis"),1==this.pn?this.upbtn.find(".i").addClass("iupdis"):this.upbtn.find(".i").removeClass("iupdis")),t.hasClass("idown")&&!t.hasClass("idowndis")&&(this.pn++,this.imglis.css("top","-"+(this.pn-1)*this.per*this.num+"px"),this.upbtn.find(".i").removeClass("iupdis"),this.pn==this.total?this.downbtn.find(".i").addClass("idowndis"):this.downbtn.find(".i").removeClass("idowndis"))},changeFocus:function(i){var s=$(i.currentTarget),t=s.find("img").attr("src"),n=s.find(".img_txt").text(),h=s.data("url"),d=this.focusbox.find(".main_focus");d.find("a").attr("href",h),d.find("img").attr("src",t),d.find(".title").text(n),$.each(this.focusbox.find("li"),function(i,s){$(s).find("a").removeClass("on")}),s.addClass("on")}};t.exports=n});
;define("home:widget/comment/comment.js",function(t,o,e){t("common:widget/dep/jquery/jquery.js"),t("common:widget/dep/jquery/plugin/jquery.cookie.js");var s=!!window.ActiveXObject,i=s&&!window.XMLHttpRequest,a=function(t,o){this.rt=t,this.$root=$("#"+t),this.options=$.extend(a.DEFAULTS,o),this.isLogin=o.displayname?!0:!1,this.isFirstRefresh=!0,this.options.cmtToRootId&&(this.$cmtToRoot=$("#"+this.options.cmtToRootId))};a.DEFAULTS={hasmorecmt:!0,supporthasmorecmt:!0,opposehasmorecmt:!0,flag:!0,supportflag:!0,opposeflag:!0,ts:0,supportts:0,opposets:0},a.fn=a.prototype,a.fn.init=function(){var t=this;$(function(){t.loadCommentFailIcon(),t.options.nocmtlist||t.render(),t.isLogin&&t.fullInfoFromCookie(),t.isLogin||t.cleanCookie(),t.registerEvents()})},a.fn.loadCommentFailIcon=function(){$("<img/>").load(function(){$(this).remove()}).attr("src","/static/home/widget/comment/images/icon-commit-fail_c082a63.png")},a.fn.render=function(t){n.preventDefaultEvent(t),this.rt.match(/support/)?this.options.supportflag&&this.options.supporthasmorecmt&&this.getCommentsFromServer():this.rt.match(/oppose/)?this.options.opposeflag&&this.options.opposehasmorecmt&&this.getCommentsFromServer():this.options.flag&&this.options.hasmorecmt&&this.getCommentsFromServer()},a.fn.getCommentsFromServer=function(){if(this.rt.match(/support/)){if(!this.options.supporthasmorecmt)return}else if(this.rt.match(/oppose/)){if(!this.options.opposehasmorecmt)return}else if(!this.options.hasmorecmt)return;this.rt.match(/support/)?this.options.supportflag=!1:this.rt.match(/oppose/)?this.options.opposeflag=!1:this.options.flag=!1,this.handleStyleOfMoreBtn("loading");var t,o=this;this.rt.match(/support/)?(t="/ajax/commentlisttieba?url="+this.options.url+encodeURIComponent("&opinion=support"),t+="&ts="+this.options.supportts):this.rt.match(/oppose/)?(t="/ajax/commentlisttieba?url="+this.options.url+encodeURIComponent("&opinion=oppose"),t+="&ts="+this.options.opposets):t="/ajax/commentlisttieba?url="+this.options.url+"&ts="+this.options.ts,$.ajax({url:t,type:"GET",dataType:"json",timeout:5e3,success:$.proxy(this.renderCmts,this),error:function(){o.handleStyleOfMoreBtn("fail")}})},a.fn.renderCmts=function(t){if("0"==t.errno)if(this.rt.match(/support/)?this.options.supporthasmorecmt=t.data.hasmore:this.rt.match(/oppose/)?this.options.opposehasmorecmt=t.data.hasmore:this.options.hasmorecmt=t.data.hasmore,$("#page .comment-num").length&&this.isFirstRefresh&&(this.renderCmtNum(t.data.comments.length),this.isFirstRefresh=!1),t.data.comments.length){var o="";$.each(t.data.comments,function(t,e){o+=['<div class="li">','<div class="avt">','<img src="'+e.user_pic+'">',"</div>",'<div class="cnt">','<div class="user">','<span class="nm">'+e.user_name+"</span>",'<span class="tm">'+e.format_ts+"</span>","</div>",'<div class="txt">'+e.text+"</div>","</div>",'<div class="replay">','<div class="replay-bar">','<a class="cool-btn can-cool" href="javascript:;">','<input type="hidden" id="'+e.id+'"/>','<i class="num-cool">'+e.support_count+"</i>",'<i class="num-add">+1</i>',"</a>",'<a class="replay-btn" href="javascript:;">回复</a>',"</div>",'<div class="replay-box">','<i class="replay-textarea">',"<textarea></textarea>","</i>",'<div class="replay-status-bar clearfix">','<span class="replay-checknum">还可以输入<em>250</em>个字</span>','<a class="replay-commit-btn replay-btndis" href="javascript:;">评论</a>',"</div>","</div>","</div>","</div>"].join("")});var e=this.$root.find(".cmtlist");e.append(o),this.rt.match(/support/)?this.options.supportts=t.data.ts:this.rt.match(/oppose/)?this.options.opposets=t.data.ts:this.options.ts=t.data.ts,this.rt.match(/support/)?this.options.supportflag=!0:this.rt.match(/oppose/)?this.options.opposeflag=!0:this.options.flag=!0,this.handleStyleOfMoreBtn(this.rt.match(/support/)?this.options.supporthasmorecmt?"load":"nomorecmt":this.rt.match(/oppose/)?this.options.opposehasmorecmt?"load":"nomorecmt":this.options.hasmorecmt?"load":"nomorecmt")}else this.handleStyleOfMoreBtn("nocmt");else this.handleStyleOfMoreBtn("fail")},a.fn.handleStyleOfMoreBtn=function(t){var o=this.$root.find(".load_more a");switch(t){case"loading":o.removeClass("load loaderr nocmt nomorecmt").addClass("loading").find(".txt").text("正在加载");break;case"load":o.removeClass("loaderr loading nocmt nomorecmt").addClass("load").find(".txt").text("更多");break;case"nomorecmt":o.removeClass("load loading nocmt loaderr").addClass("nomorecmt").find(".txt").text("没有更早的评论了");break;case"nocmt":o.removeClass("load loading nomorecmt loaderr").addClass("nocmt").find(".txt").text("还没有人评论过，赶快抢沙发吧！");break;case"fail":o.removeClass("load loading nocmt nomorecmt").addClass("loaderr").find(".txt").text("加载失败，请重试")}},a.fn.fullInfoFromCookie=function(){var t=this.relativeCookies();return""!==t.cmtText&&void 0!==t.cmtText?void this.setComment(t):""!==t.replayText&&void 0!==t.replayText?void this.setReplay(t):void(void 0!==t.cmtPos&&void 0===t.cmtText&&$(window).scrollTop(t.cmtPos))},a.fn.relativeCookies=function(){var t=this.options.subscribename,o=this.options.articleId,e="baidu/"+t+"/artical/"+o,s="baidu/"+t+"/articalsite/"+o,i="baidu/"+t+"/articalReplay/"+o,a="baidu/"+t+"/articalReplayPos/"+o,n="baidu/"+t+"/articalReplayInputId/"+o;return{cmtText:$.cookie(e),cmtPos:$.cookie(s),replayText:$.cookie(i),replayPos:$.cookie(a),replayId:$.cookie(n)}},a.fn.setComment=function(t){var o=this.$root.find(".cmtbox textarea"),e=this.$root.find(".cmtbtn"),s=this.$root.find(".checknum em"),i=t.cmtText,a=t.cmtPos,n={textarea:o,btn:e,count:s};window.scrollTo(0,a),o.val(decodeURIComponent(i)),this.checkword(n,!0)},a.fn.setReplay=function(t){var o=t.replayText,e=t.replayPos,s=t.replayId,i=this,a=setInterval(function(){var t=$("#"+s);if(t.length){var n=t.parents(".li"),r=n.find(".replay-box"),c=n.find("textarea");r.show(),c.val(o);var l=n.find(".replay-commit-btn"),p=n.find(".replay-checknum em"),m={textarea:c,btn:l,count:p};i.checkword(m,!1),window.scrollTo(0,e),clearInterval(a)}},100)},a.fn.registerEvents=function(){this.$root.delegate(".cmtbtn","click",$.proxy(this.commitComment,this)),this.$root.delegate(".cmtbox textarea","keyup",$.proxy(this.getElementsForcheckword,this,!0)),this.options.nocmtlist||this.$root.delegate(".load_more a","click",$.proxy(this.getCommentsFromServer,this)),this.$root.find(".cmtlogin").length&&this.$root.delegate(".cmtlogin","click",$.proxy(this.showLoginbox,this)),this.$root.find(".logout").length&&this.$root.delegate(".logout","click",$.proxy(this.logout,this)),this.$cmtToRoot||(this.$root.delegate(".replay textarea","keyup",$.proxy(this.getElementsForcheckword,this,!1)),this.$root.delegate(".replay .replay-btn","click",$.proxy(this.clickRelayBtn,this)),this.$root.delegate(".replay .cool-btn","click",$.proxy(this.clickCoolBtn,this)),this.$root.delegate(".replay .replay-commit-btn","click",$.proxy(this.commitReplay,this)))},a.fn.commitComment=function(t){var o=$(t.currentTarget);if(!o.hasClass("btndis")){var e=this.$root.find(".cmtbox textarea"),s=$.trim(e.val());if(!this.options.displayname){var i="baidu/"+this.options.subscribename+"/artical/"+this.options.articleId,a="baidu/"+this.options.subscribename+"/articalsite/"+this.options.articleId,n=e[0].getBoundingClientRect().top+Math.max(document.documentElement.scrollTop,document.body.scrollTop);return $.cookie(i,s,{expires:.02,path:"/"}),$.cookie(a,n,{expires:.02,path:"/"}),this.showLoginbox(),!1}if(this.rt.match(/support/))var r=this.options.url+encodeURIComponent("&opinion=support");else if(this.rt.match(/oppose/))var r=this.options.url+encodeURIComponent("&opinion=oppose");else var r=this.options.url;var c={url:r,text:s,content:s};this.clearCmt(),this.postData(c)}},a.fn.clearCmt=function(){if(this.$root.find(".cmtbox textarea").val(""),this.$root.find(".checknum em").text("250").removeClass("err"),this.$root.find(".cmtbtn").addClass("btndis"),this.$cmtToRoot){var t=this.$cmtToRoot.find(".load_more a");t.hasClass("nocmt")&&t.hide()}else{var t=this.$root.find(".load_more a");t.hasClass("nocmt")&&t.hide()}},a.fn.commitReplay=function(t){var o=$(t.currentTarget);if(!o.hasClass("replay-btndis")){var e=o.parents(".replay"),s=e.find("textarea"),i=$.trim(s.val());if(!this.options.displayname){var a="baidu/"+this.options.subscribename+"/articalReplay/"+this.options.articleId,n="baidu/"+this.options.subscribename+"/articalReplayPos/"+this.options.articleId,r="baidu/"+this.options.subscribename+"/articalReplayInputId/"+this.options.articleId,c=e.find('input[type="hidden"]').attr("id"),l=s[0].getBoundingClientRect().top+Math.max(document.documentElement.scrollTop,document.body.scrollTop)-200;return $.cookie(a,i,{expires:.02,path:"/"}),$.cookie(n,l,{expires:.02,path:"/"}),$.cookie(r,c,{expires:.02,path:"/"}),void this.showLoginbox()}var p=this.spliceReplayContent(o,i);if(this.rt.match(/support/))var m=this.options.url+encodeURIComponent("&opinion=support");else if(this.rt.match(/oppose/))var m=this.options.url+encodeURIComponent("&opinion=oppose");else var m=this.options.url;var d={url:m,text:p,content:p};this.clearReplay(o),this.postData(d)}},a.fn.clearReplay=function(t){var o=t.parents(".replay");if(o.find("textarea").val(""),o.find(".replay-checknum em").text("250").removeClass("err"),o.find(".replay-commit-btn").addClass("replay-btndis"),o.find(".replay-box").hide(),!this.options.nocmtlist){var e=this.$root.find(".load_more a");e.hasClass("nocmt")&&e.hide()}},a.fn.spliceReplayContent=function(t,o){var e=t.parents(".li"),s=e.find(".txt").text(),i=e.find(".user .nm").text();return o+"//@"+i+"："+s},a.fn.showLoginbox=function(){var t="baidu/"+this.options.subscribename+"/articalsite/"+this.options.articleId,o=this.$root.find(".cmtbox textarea")[0].getBoundingClientRect().top+Math.max(document.documentElement.scrollTop,document.body.scrollTop);$.cookie(t,o,{expires:.02,path:"/"}),window.instance.show()},a.fn.postData=function(t){var o={url:t.url,text:t.text};$.ajax({url:"/ajax/commenttieba",type:"POST",data:o,dataType:"json",timeout:5e3,success:$.proxy(this.commitSuccess,this,t.content),error:$.proxy(this.commitFail,this)})},a.fn.commitSuccess=function(t,o){0===o.errno?(this.cleanCookie(),o.content=t,this.renderModal(o,!0)):this.renderModal(o,!1)},a.fn.cleanCookie=function(){var t=this.options.subscribename,o=this.options.articleId,e=[];e.push("baidu/"+t+"/artical/"+o),e.push("baidu/"+t+"/articalsite/"+o),e.push("baidu/"+t+"/articalReplay/"+o),e.push("baidu/"+t+"/articalReplayPos/"+o),e.push("baidu/"+t+"/articalReplayInputId/"+o),$.each(e,function(t,o){$.removeCookie(o,{path:"/"})})},a.fn.renderModal=function(t,o){var e=o?"comment-success":"comment-fail",s=$("."+e),a=$('<div class="modal-mask"></div>'),n=this.$root.find(".cmtbox textarea"),r=n[0].getBoundingClientRect().top+Math.max(document.documentElement.scrollTop,document.body.scrollTop)-300,c=$(window).width(),l=$(window).height(),p=$(document).height();this.options.nocmtlist&&(this.rt.match(/support/)&&window.votedSupport.hide(),this.rt.match(/oppose/)&&window.votedOppose.hide()),a.css({top:"0px",height:p+"px",width:c+"px"});var m=l/2-100,d=(c-470)/2;if(i&&(m=l/2-100+document.documentElement.scrollTop),s.css({top:m+"px",left:d+"px"}),$(window).scrollTop(r),a.appendTo("body"),s.fadeIn(1e3,function(){a.fadeOut(1e3,function(){a.remove()}),s.fadeOut(1e3)}),o){var h=this.renderNewComment(t);h.fadeIn(1e3,function(){setTimeout(function(){a.remove()},1e3)})}},a.fn.renderNewComment=function(t){var o=n.escapeHTMl(t.content),e=['<div class="li" style="display:none">','<div class="avt">','<img src="'+this.options.userImage+'">',"</div>",'<div class="cnt">','<div class="user">','<span class="nm">'+this.options.displayname+"</span>",'<span class="tm">刚刚</span>',"</div>",'<div class="txt">'+o+"</div>","</div>",'<div class="replay">','<p class="replay-bar">','<a class="cool-btn can-cool" href="javascript:;">','<i class="num-cool">0</i>','<i class="num-add">+1</i>',"</a>",'<a class="replay-btn" href="javascript:;">回复</a>',"</p>",'<div class="replay-box">','<i class="replay-textarea">',"<textarea></textarea>","</i>",'<div class="replay-status-bar clearfix">','<span class="replay-checknum">还可以输入<em>250</em>个字</span>','<a class="replay-commit-btn replay-btndis" href="javascript:;">评论</a>',"</div>","</div>","</div>","</div>"].join(""),s=$(e);return this.$cmtToRoot?this.$cmtToRoot.find(".cmtlist").prepend(s):this.$root.find(".cmtlist").prepend(s),s},a.fn.commitFail=function(){this.renderModal(!1)},a.fn.getElementsForcheckword=function(t,o){var e,s,i;t?(e=this.$root.find(".cmtbox textarea"),s=this.$root.find(".cmtbtn"),i=this.$root.find(".checknum em")):(e=$(o.currentTarget),$replay=e.parents(".replay"),s=$replay.find(".replay-status-bar .replay-commit-btn"),i=$replay.find(".replay-status-bar .replay-checknum em"));var a={textarea:e,btn:s,count:i};this.checkword(a,t)},a.fn.checkword=function(t,o){var e=t.textarea,s=t.btn,i=t.count,a=o?"btndis":"replay-btndis";$.trim(e.val()).length>0?e.val().length<=250?(s.removeClass(a),i.text(250-e.val().length).removeClass("err")):(s.addClass(a),i.text(250-e.val().length).addClass("err")):(s.addClass(a),i.text("250").removeClass("err"))},a.fn.logout=function(t){$(t.currentTarget).attr("href","http://passport.baidu.com/?logout&u="+encodeURIComponent(location.href))},a.fn.clickRelayBtn=function(t){var o=$(t.target),e=o.parents(".replay"),s=e.find(".replay-box");s.slideToggle()},a.fn.clickCoolBtn=function(t){var o=$(t.currentTarget);if(!o.hasClass("cannot-cool")){var e=o.find(".num-cool"),s=o.find(".num-add");$id=o.find('input[type="hidden"]'),o.removeClass(".can-cool").addClass("cannot-cool");var i=parseInt(e.text());if(e.css("color","#f13232").text(i+1),s.fadeIn("100",function(){$(this).fadeOut("100")}),this.rt.match(/support/))var a=this.options.url+encodeURIComponent("&opinion=support");else if(this.rt.match(/oppose/))var a=this.options.url+encodeURIComponent("&opinion=oppose");else var a=this.options.url;var n={url:a,commendid:$id.attr("id")};$.ajax({url:"/ajax/commentsupport",type:"POST",dataType:"json",data:n})}},a.fn.renderCmtNum=function(t){var o=t>0?!0:!1,e=['<a href="javascript:;" class="cmt'+(o?'">':' shafa">'),o?'评论：<em class="cmtnum">'+t+"</em>":'<i class="i ipen"></i>抢沙发',"</a>"].join(""),s=$("#page .comment-num");s.append(e);var i=$("#mod-comment .cmtnum");i.text(t)};var n={preventDefaultEvent:function(t){t&&(t.preventDefault?t.preventDefault():window.event.returnValue=!1)},escapeHTMl:function(t){return"string"==typeof t&&""!==t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\\/g,"&#92;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"):void 0}};e.exports=a});
;define("home:widget/filterAticleId/filterAticleId.js",function(e,t,n){function r(e){if(c){for(var t=o(),n=0,r=t.length;r>n;n++)a[t[n]]=1;c=!1}for(var u=[],n=0,r=e.length;r>n;n++){var l=e[n].ID;a[l]||u.push(e[n])}return i(),f(e),u}function i(){a=[]}function f(e){for(var t=0,n=e.length;n>t;t++){var r=e[t].ID;a[r]=1}}function o(){var e=[],t=$(".l-main-col .feeds .feeds-item");return t.each(function(t,n){var r=n.id,i=r.match(/item-(\d+)/)[1];e.push(i)}),e}var a=[],c=!0;n.exports=r});
;define("home:widget/footer/statistics.js",function(t,e,n){function o(){window._hmt=window._hmt||[];var t=document.createElement("script");t.src="//hm.baidu.com/hm.js?7fe4ae9e1d0d01bcf748d066979cd2aa";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}function i(){function t(){window._hmt.id?window._hmt.push(["_trackEvent","refer","autopost","refer:"+e]):setTimeout(t,200)}var e=document.referrer||location.href;t()}function r(){function t(){window._hmt.push(["_trackEvent","clicklink","userclick","clicklink:"+e])}var e;$("body").on("mousedown","a",function(n){if(window._hmt.id){var o=$(n.currentTarget),i=o.attr("mon");i&&(e=o.attr("href"),setTimeout(t))}})}t("common:widget/dep/jquery/jquery.js"),n.exports={init:o,postReferToTongji:i,initClickPostToTongji:r}});
;define("home:widget/header/header.js",function(e,t,o){e("common:widget/dep/jquery/jquery.js"),e("common:widget/dep/jquery/plugin/jquery.cookie.js"),e("common:widget/dep/tangram/tangram.js");var n={init:function(e){var t=this,o=+new Date,n="http://passport.baidu.com/passApi/js/uni_login_wrapper.js?cdnversion="+o,i=document.getElementsByTagName("head")[0],a=document.createElement("script"),s=null;this.option=e,this.submenus=$(".submenus"),this.searcharea=$(".searcharea"),this.menulist=[{text:"财经版",id:6},{text:"文化版",id:3},{text:"娱乐版",id:4},{text:"体育版",id:5}],a.setAttribute("src",n),a.setAttribute("type","text/javascript"),i.appendChild(a),s=setInterval(function(){"object"==typeof passport&&(clearInterval(s),t.headerEvent())},100)},headerEvent:function(){this.navDialog(),this.searchEvent(),this.loginEvent(),this.qrcodeEvent(),this.rendermenu(),$(".isearch").on("click",$.proxy(this.showsearchbar,this)),$("body").on("click",$.proxy(this.hideSearchbar,this)),$(".otherchannel .dropdli a").on("click",$.proxy(this.setmenutocookie))},navDialog:function(){window.loginFrom="",window.instance=passport.pop.init({apiOpt:{staticPage:"http://"+location.host+"/static/html/v3Jump.html",product:"xw1",memberPass:!0,charset:"utf-8",u:location.href,safeFlag:0},authsite:["tsina","renren","qzone","tqq"],authsiteCfg:{act:"implicit"},tangram:!0,onLoginSuccess:function(e){e.returnValue=!1,location.href="nav"===window.loginFrom?e.rsp.data.u:"account"===window.loginFrom?e.rsp.data.u+"?from=account":e.rsp.data.u}}),$(document).on("click","#login",function(e){e.preventDefault(),window.loginFrom="nav",instance.show()})},showsearchbar:function(){$(".submenus").addClass("showsearchbar")},hideSearchbar:function(e){$(e.target).closest(".showsearchbar").length||$(".submenus").removeClass("showsearchbar")},searchEvent:function(){function e(){return $("#search").val()?!0:!1}window.chkForm=e},loginEvent:function(){var e,t,o=this.option.uid;$("#login_user").on("mouseenter",function(){e&&clearTimeout(e),$("#userbox").addClass("scale"),$("#login_user").addClass("show")}),$("#login_user").on("mouseleave",function(){e=setTimeout(function(){$("#userbox").removeClass("scale"),$("#login_user").removeClass("show")},500)}),$("#otherchannel").on("mouseenter",function(){t&&clearTimeout(t),$("#otherchannel").addClass("show"),$("#submenubox").addClass("scale")}),$("#otherchannel").on("mouseleave",function(){t=setTimeout(function(){$("#submenubox").removeClass("scale"),$("#otherchannel").removeClass("show")},500)});var n=baidu.g("logout");if(n){var i=encodeURIComponent(location.href);n.href=i.indexOf("userinfo")>0?"http://passport.baidu.com/?logout&u="+encodeURIComponent("http://baijia.baidu.com/"):"http://passport.baidu.com/?logout&u="+i}o||$("#cmtbox textarea")&&$("#cmtbox textarea").val("")},qrcodeEvent:function(){var e=$(".header_qrcode"),t=$(".header_qrcode_container");e.on("mouseenter",function(){t.addClass("scale")}).on("mouseleave",function(){t.removeClass("scale")})},setmenutocookie:function(e){var t=$(e.currentTarget),o=t.text(),n=t.attr("href"),i=n.split("labelid=")[1];$.cookie("othermenutext_baijia_baidu",o),$.cookie("othermenuid_baijia_baidu",i)},rendermenu:function(){var e,t,o=$("#otherchannel"),n=[];window.location.href.match(/tn=listarticle/)?(e=window.location.href.split("labelid=")[1],10>e&&($.each(this.menulist,function(o,n){n.id===parseInt(e,10)&&(t=n.text)}),$.cookie("othermenutext_baijia_baidu",t),$.cookie("othermenuid_baijia_baidu",e))):(e=$.cookie("othermenuid_baijia_baidu"),t=$.cookie("othermenutext_baijia_baidu")),t&&e?(o.find(".othermenu").attr("href","http://baijia.baidu.com/?tn=listarticle&labelid="+e),o.find(".othermenu").text(t),$.each(this.menulist,function(e,o){o.text!==t&&(n.push('<li class="dropdli"><a href="http://baijia.baidu.com/?tn=listarticle&labelid='),n.push(o.id+'">'+o.text+"</a></li>")),$("#submenubox ul").html("").html(n.join(""))})):(o.find(".othermenu").attr("href","http://baijia.baidu.com/?tn=listarticle&labelid=6"),o.find(".othermenu").text("财经版"))}};o.exports=n});
;define("home:widget/hotComment/hotComment.js",function(t,s,e){var o={init:function(){this.viewBoxHeight=612,this.scrollBoxHeight=this.viewBoxHeight,this.scrollDistance=5,this.timer=null,this.flag=!1,this.winscrolltop=0,this.getDom(),this.initLayout(),this.autoMove(),this.enterEvent()},enterEvent:function(){var t=this;this.commentBox.unbind().mouseenter(function(){clearInterval(t.timer),t.mousemoveEvent(),t.winscrolltop=t.getWinscrollTop(),t.flag=!0,t.proxyMousedirIsdown=$.proxy(t.mousedirIsdown,t),window.addEventListener?window.addEventListener("DOMMouseScroll",t.proxyMousedirIsdown,!1):window.attachEvent("DOMMouseScroll",t.proxyMousedirIsdown),window.onmousewheel=document.onmousewheel=t.mousedirIsdown}).mouseleave(function(){t.autoMove(),t.scrollBtn.hide(),t.flag=!1,window.removeEventListener?window.removeEventListener("DOMMouseScroll",t.proxyMousedirIsdown):window.detachEvent("DOMMouseScroll",t.proxyMousedirIsdown),window.onmousewheel=document.onmousewheel=null})},getWinscrollTop:function(){var t;return document.documentElement&&document.documentElement.scrollTop?t=document.documentElement.scrollTop:document.body&&(t=document.body.scrollTop),t},mousedirIsdown:function(t){var s=0;t||(t=window.event),t.preventDefault?t.preventDefault():t.returnValue=!1,t.wheelDelta?s=t.wheelDelta/120:t.detail&&(s=-t.detail/3),o.scrollEvent(s)},mousemoveEvent:function(){var t=this,s=parseInt(this.viewList.css("top"),10),e=this.scale*Math.abs(s);this.scrollBtn.css("top",e).show(),this.scrollBtn.unbind().mousedown(function(s){var e=s.pageY,o=parseInt($(this).css("top"),10),i=parseInt(t.viewList.css("top"),10);$(document).mousemove(function(s){var n=s.pageY,l=n-e;l>=0?o+l>t.availScrollHeight?(t.scrollBtn.css({top:t.availScrollHeight}),t.viewList.css({top:-t.availViewListHeight})):(t.scrollBtn.css({top:o+l}),t.viewList.css({top:i-l/t.scale})):0>=o+l?(t.scrollBtn.css({top:0}),t.viewList.css({top:0})):(t.scrollBtn.css({top:o+l}),t.viewList.css({top:i-l/t.scale}))})}),$(document).mouseup(function(){$(document).unbind("mousemove")})},scrollEvent:function(t){var s=this,e=parseInt($(".hotcomment").css("top"),10),o=this.scale*Math.abs(e);s.flag&&(t>0?o-s.scrollDistance<0?(s.scrollBtn.css({top:0}),s.viewList.css({top:0})):(s.scrollBtn.css({top:o-s.scrollDistance}),s.viewList.css({top:e+s.scrollDistance/s.scale})):0>t&&(o+s.scrollDistance>s.availScrollHeight?(s.scrollBtn.css({top:s.availScrollHeight}),s.viewList.css({top:-s.availViewListHeight})):(s.scrollBtn.css({top:o+s.scrollDistance}),s.viewList.css({top:e-s.scrollDistance/s.scale}))))},autoMove:function(){var t,s=this;this.timer=setInterval(function(){t=parseInt(s.viewList.css("top"),10),Math.abs(t)===s.availViewListHeight&&(t=0),s.viewList.css({top:t-1})},20)},getDom:function(){this.commentBox=$(".hotcomment-view"),this.viewList=$(".hotcomment"),this.scrollBtn=$(".scroll-btn")},initLayout:function(){var t=parseInt(this.viewList.css("height"),10);this.viewListHeight=t,this.availViewListHeight=this.viewListHeight-this.viewBoxHeight,this.scrollBtnHeight=this.scrollBoxHeight/(this.viewListHeight/this.viewBoxHeight),this.availScrollHeight=this.scrollBoxHeight-this.scrollBtnHeight,$(".scroll-btn").css("height",this.scrollBtnHeight),this.scale=this.availScrollHeight/this.availViewListHeight}};e.exports=o});
;define("home:widget/introduce/introduce.js",function(t,i,n){var e=t("common:widget/dialog/dialog.js"),o={init:function(){this.getTpl(),this.listenEvent()},getTpl:function(){this.tpl=$(".baijia-introduce").html()},listenEvent:function(){var t=this;$(window).on("introudceEvent",function(){t.dialog=new e({width:560,height:520,close:".public-modal-btn-cancel-red",tpl:t.tpl,opacity:.5,drag:!0,dragItem:".dragitem"})})}};n.exports=o});
;define("home:widget/page_module/article/article.js",function(e,t,n){function i(e){var t={tokentm:e.tokentm,token:e.token},n=e.uid,i=e.mid,o=e.articleId,r=(e.displayname,e.userImage,new Image(1,1));r.src="/static/images/b.gif?articleId="+o,baidu.dom.ready(function(){function a(e){var t=1*e+1;return t}function o(t){var n="nid="+e.sign+"&type="+t;baidu.ajax.post("/ajax/newssupport",n,function(e,n){var i=baidu.json.parse(n);0==i.errno&&("up"==t?c.html(a(c.text())):u.html(a(u.text())),m=!0,"up"==t?d.addClass("done"):s.addClass("done"))})}function r(e){return m?!1:void o($(e.currentTarget).data("type"))}var d=$("#up_article"),s=$("#down_article"),c=d.find(".num"),u=s.find(".num"),m=!1;$(".up_down .btn").on("click",r),$(".authorRssBtn").click(function(){if(!$("#login").is(":hidden"))return baidu.g("login").click(),!1;var e,a,o,r=$(this),d=r.attr("class");if(d.match(/rssed/)?(o=2,e="i iadd",a="btn authorRssBtn torss"):d.match(/torss/)&&(o=1,e="i iminus",a="btn authorRssBtn rssed"),t.token)var s="/ajax/subscribe?uid="+n+"&mid="+i+"&type=1&status="+o+"&token="+t.token+"&time="+t.tokentm;else var s="/ajax/subscribe?uid="+n+"&mid="+i+"&type=1&status="+o;$.ajaxSetup({cache:!1}),$.ajax({url:s,type:"GET",dataType:"json",success:function(t){"0"==t.errno&&(r.find(".i").removeClass().addClass(e),r.removeClass().addClass(a))}})})});var d=window.navigator.userAgent;if(d.indexOf("MSIE")>-1){var s=d.indexOf("MSIE")+5,c=d.substr(s,3);if(parseInt(c,10)<=9)var u="table"}else var u="canvas";var m=!1;$(".bjweixin1").click(function(){return $(".bjcode1").show(),m=!0,!1}),$(".closeweixin1").click(function(){return $(".bjcode1").hide(),m=!1,!1}),$(document).click(function(){m&&($(".bjcode1").hide(),m=!1)}),$(".sharecode").qrcode({text:window.location.href,width:104,height:104,render:u}),$(".bds_more").bind("mousemove",function(){return!1});var l=setInterval(function(){$(".bds_weixin").attr("title")&&($(".bds_weixin").removeAttr("title"),clearInterval(l))},100);$(".article-info .comment-num").unbind().click(function(){var e=parseInt($("#mod-comment").offset().top,10);$("html, body").stop().animate({scrollTop:e})}),/preview=1/.test(window.location.href)&&($(".sharecodebox").hide(),$(".bds_more").hide(),$(".bdsharebuttonbox").find("a").unbind().click(function(){return a({type:"warning",content:"对不起，预览页不能进行分享！",autohide:!0}),!1}))}var a=e("common:widget/notice/notice.js");e("common:widget/dep/jquery/jquery.js"),e("common:widget/dep/jquery/plugin/jquery.qrcode.js"),e("common:widget/dep/tangram/tangram.js"),e("common:widget/dep/baiduTemplate/baiduTemplate.js"),n.exports={init:i}});
;define("home:widget/page_module/author/author.js",function(a,i,e){function t(a){function i(a){for(var i=[],e=0;e<a.length;e++){var t;t=a[e].m_summary.length>90?a[e].m_summary.substring(0,90)+"...":a[e].m_summary,a[e].m_image_url&&"undefined"!==a[e].m_image_url?(i.push('<div class="feeds-item hasImg" id="item-'+a[e].ID+'">'),i.push('<p class="feeds-item-pic"><a href="'+a[e].m_display_url+'" target="_blank" mon="col=13&pn=&a=12"><img src="'+a[e].m_image_url+'"/></a></p>')):i.push('<div class="feeds-item" id="item-'+a[e].ID+'">'),i.push('<h3><a href="'+a[e].m_display_url+'" target="_blank" mon="col=13&pn=">'+a[e].m_title+"</a>"),"1"==a[e].m_attr_exclusive&&i.push('<i class="public-icon-unique">独家</i>'),"1"==a[e].m_attr_first_pub&&i.push('<i class="public-icon-first">首发</i>'),i.push('</h3><p class="feeds-item-text">'+t+"</p>"),i.push('<div class="feeds-item-info">'),i.push('<p class="labels">');for(var n=a[e].m_label_names,r=0;r<n.length;r++)i.push('<span class="label">'),i.push('<a class="labelnm" href="http://baijia.baidu.com/?tn=listarticle&labelid='),i.push(n[r].m_id+'" target="_blank">'+n[r].m_name+"</a>"),i.push("</span>");i.push("</p>"),i.push('<span class="count">阅读（'+a[e].hotcount+"）</span>"),i.push(s.generateTemplate()),i.push("</div>"),i.push('<div class="point-box"><div class="point"></div>'),i.push('<div class="time">'+a[e].m_create_time+"</div></div></div>")}return i.join("")}var e=(baidu.event.on,{page:1,pagesize:20,authorid:a.authorid,artical_list_num:a.artical_list_num,prevarticalid:a.prevarticalid}),t={tokentm:a.tokentm,token:a.token,uid:a.uid,mid:a.mid};baidu.dom.ready(function(){var a=new s({feedList:".feeds",feedItem:".feeds-item",url:"h3 a",title:"h3 a",imgUrl:".feeds-item-pic img"});a.init();var n=$("#rendermore"),r=baidu.g("feeds"),d=!1,u=baidu.g("author-rss");$("#rendermore").on("click","a",function(){var a=baidu.dom.last("feeds").id.match(/\d.*/)[0];d||(d=!0,n.html('<span class="loading"><i class="i"></i>正在加载</span>'),baidu.ajax.get("/ajax/authorlatestarticle?page="+(e.page+1)+"&pagesize="+e.pagesize+"&authorid="+e.authorid+"&prevarticalid="+a,function(a,t){var s=baidu.json.parse(t);if(0==s.errno&&s.data.total>0){s.data.list.isAuthor=!0;var u=i(s.data.list),l=s.data.list.length;baidu.dom.insertHTML(r,"beforeEnd",u),e.artical_list_num+=l,e.page+=1,e.prevarticalid=s.data.list[l-1].ID,n.html(s.data.total>e.artical_list_num?'<a href="javascript:;"><span>加载更多</span></a>':"<span>没有了，亲！</span>"),d=!1}else n.html("<span>没有了，亲！</span>")}))}),u&&baidu.on(u,"click",function(){var a=$(u);if(a.find("span").hasClass("author-index"))return window.location.href="http://fa.baijia.baidu.com",!1;if(!t.uid)return baidu.g("login").click(),!1;var i=baidu.g("rss_txt"),e=1,s="已关注",n="minus";if("已关注"==i.innerHTML&&(e=2,s="关注",n="add"),t.token){var r="/ajax/subscribe?uid="+t.uid+"&mid=";r+=t.mid+"&type=1&status="+e+"&token=",r+=t.token+"&time="+t.tokentm+"&t="+ +new Date}else{var r="/ajax/subscribe?uid="+t.uid+"&mid=";r+=t.mid+"&type=1&status="+e+"&t="+ +new Date}baidu.ajax.get(r,function(a,e){var t=baidu.json.parse(e);0==t.errno&&(i.innerHTML=s,baidu.dom.setAttr("rss_icon","class",n))})})})}a("common:widget/dep/jquery/jquery.js"),a("common:widget/dep/jquery/plugin/jquery.qrcode.js"),a("common:widget/dep/tangram/tangram.js"),a("common:widget/dep/baiduTemplate/baiduTemplate.js");var s=a("common:widget/share/share.js");e.exports={init:t}});
;define("home:widget/page_module/index/cutImg.js",function(t,i){function e(t,i,e,c){var h,a,n=e/c,d=t.width,o=t.height,r=d/o;r===n?i.css({width:"100%",height:"100%"}):r>n?(i.css({width:"auto",height:"100%"}),h=i.width(),i.css({"margin-left":0-(h-e)/2+"px"})):n>r&&(i.css({width:"100%",height:"auto"}),a=i.height(),i.css({"margin-top":0-(a-c)/2+"px"})),i.css("opacity","1")}t("common:widget/dep/jquery/jquery.js");var c={};i.cut=function(t,i,h){if(!t.attr("hadCut")){t.attr("hadCut","1");var a=t.attr("src");if(c[a])return void e(c[a],t,i,h);var n=document.createElement("img");n.onload=function(){c[a]=n,e(n,t,i,h)},n.src=a}}});
;define("home:widget/page_module/index/index.js",function(a,e,t){function i(a){var a=a;$(function(){function e(a){if(a.preventDefault(),n){var e="http://fa.baijia.baidu.com/";e+=s?"?tn=authorindex":"?tn=registertype",window.open(e,"_blank")}else window.loginFrom="account",instance.show()}function t(a){a.preventDefault();var e="http://fa.baijia.baidu.com/?tn=registerlogin";window.open(e,"_blank")}function i(){$(window).trigger("introudceEvent")}var n=a.displayname,s=a.baijiaAccountName;$(document).on("click",".baijia-account .account-btns .btn-login",e),$(document).on("click",".baijia-account .account-btns .btn-reg",t),$(".account-introduce").unbind().click(i),$(document).on("click",".modal-account-introduce .modal-content-btns .modal-btns-login",e),$(document).on("click",".modal-account-introduce .modal-content-btns  .modal-btns-reg",t)}),baidu.dom.ready(function(){function a(){var a=$(".player .readnum .num"),e=a.attr("data-read");if(e&&"0"!==e){for(var t=e.match(/\d/g),i="",n=0,s=t.length;s>n;n++)i+='<span class="digit" data-num="'+t[n]+'"></span>';var l,r=[];a.html(i),l=a.find(".digit"),l.each(function(a,e){var t=$(e),i=setInterval(function(){var a=Math.round(9*Math.random());t.text(a)},20);r.push(i)}),setTimeout(function(){for(var a=0,e=r.length;e>a;a++)clearInterval(r[a]);$.each(l,function(a,e){var t=$(e),i=t.attr("data-num");t.text(i)})},1e3)}}function e(a){for(var e={},t=[],i=[],s=0;s<a.length;s++){i.push(a[s].ID);var l;l=a[s].m_summary.length>70?a[s].m_summary.substring(0,70)+"...":a[s].m_summary,a[s].m_image_url&&"undefined"!==a[s].m_image_url?(t.push('<div class="feeds-item hasImg" id="item-'+a[s].ID+'">'),t.push('<p class="feeds-item-pic"><a href="'+a[s].m_display_url+'" target="_blank" mon="col=13&pn=&a=12"><img src="'+a[s].m_image_url+'"/></a></p>')):t.push('<div class="feeds-item" id="item-'+a[s].ID+'">'),t.push('<h3><a href="'+a[s].m_display_url+'" target="_blank" mon="col=13&pn=">'+a[s].m_title+"</a>"),"1"==a[s].m_attr_exclusive&&t.push('<i class="public-icon-unique">独家</i>'),"1"==a[s].m_attr_first_pub&&t.push('<i class="public-icon-first">首发</i>'),t.push('</h3><p class="feeds-item-text">'+l+"</p>"),t.push('<div class="feeds-item-info">'),t.push('<p class="labels">');for(var r=a[s].m_label_names,c=0;c<r.length;c++)t.push('<span class="label">'),t.push('<a class="labelnm" href="http://baijia.baidu.com/?tn=listarticle&labelid='+r[c].m_id+'" target="_blank">'+r[c].m_name+"</a>"),t.push("</span>");t.push("</p>"),a.isAuthor||t.push('<a href="'+a[s].m_writer_url+'" class="feeds-item-author" target="_blank">'+a[s].m_writer_name+"</a>"),"0"==a[s].m_writer_account_type&&t.push('<i class="public-v"></i>'),t.push('<span class="tm">'+a[s].m_create_time+"</span>"),t.push('<span class="count">阅读（'+a[s].hotcount+"）</span>"),t.push(n.generateTemplate()),t.push("</div></div>")}return e.html=t.join(""),e.ids=i.join(","),e}function t(){if(u){var a=$(".feeds").find(".feeds-item:last-child")[0].id.split("-")[1];o.html('<span class="loading"><i class="i"></i>正在加载</span>'),u=!1;var t="/ajax/labellatestarticle?page=";t+=c.page+"&pagesize=",t+=c.pagesize+"&prevarticalid="+a,t+="&flagtogether=1&labelid=3",$.ajax({url:t,type:"GET",dataType:"json",success:function(a){if(0===a.errno&&a.data.list&&a.data.list.length>0){var t=s(a.data.list),i=e(t);$(".feeds").append(i.html),o.html('<a href="javascript:;"><span>加载更多</span></a>'),c.page+=1,u=!0,l["feeds-"+c.labelid]=i.ids}else o.html("<span>没有了，亲！</span>")}})}}var i=new n({feedList:".feeds",feedItem:".feeds-item",url:"h3 a",title:"h3 a",imgUrl:".feeds-item-pic img"});i.init(),a();var l={},r=[];$.each($(".feeds-item"),function(a,e){r.push($(e).attr("id").split("-")[1])}),l=r.join(",");var c={page:2,pagesize:20},o=$("#rendermore"),u=!0;o.on("click","a",t);var d=!1;baidu.on(window,"scroll",function(){return d?!1:void(baidu.page.getHeight()-baidu.page.getScrollTop()<1200&&(t(),d=!0,setTimeout(function(){d=!1},300)))})})}var n=a("common:widget/share/share.js"),s=a("home:widget/filterAticleId/filterAticleId.js");a("common:widget/dep/tangram/tangram.js"),a("common:widget/dep/jquery/jquery.js"),a("common:widget/dep/jquery/plugin/jquery.qrcode.js"),t.exports={init:i}});
;define("home:widget/page_module/listarticle/listarticle.js",function(a,e,i){function s(a,e,i){var s=(baidu.event.on,!1),l=!1,r=!1,m=!1,n={page:2,pagesize:20};a.articalListnum?(n.labelid=a.labelid,n.articalListnum=a.articalListnum,s=!0):e.articalListnum?window.location.href.match(/authorid/)?(n.authorid=e.labelid,n.articalListnum=e.articalListnum,l=!0):(n.labelid=e.labelid,n.articalListnum=e.articalListnum,r=!0):i.articalListnum&&(n.articalListnum=i.articalListnum,n.uid=i.uid,m=!0),baidu.dom.ready(function(){function a(a){for(var e=[],i=0;i<a.length;i++){var s;s=a[i].m_summary.length>70?a[i].m_summary.substring(0,70)+"...":a[i].m_summary,a[i].ID?a[i].m_image_url&&"undefined"!==a[i].m_image_url?(e.push('<div class="feeds-item hasImg" id="item-'+a[i].ID+'">'),e.push('<p class="feeds-item-pic">'),e.push('<a href="'+a[i].m_display_url+'" target="_blank" mon="col=13&pn=&a=12">'),e.push('<img src="'+a[i].m_image_url+'"/></a></p>')):e.push('<div class="feeds-item" id="item-'+a[i].ID+'">'):a[i].m_image_url&&"undefined"!==a[i].m_image_url?(e.push('<div class="feeds-item hasImg" id="item-'+a[i].m_id+'">'),e.push('<p class="feeds-item-pic">'),e.push('<a href="'+a[i].m_display_url+'" target="_blank" mon="col=13&pn=&a=12">'),e.push('<img src="'+a[i].m_image_url+'"/></a></p>')):e.push('<div class="feeds-item" id="item-'+a[i].m_id+'">'),e.push('<h3><a href="'+a[i].m_display_url+'" target="_blank" mon="col=13&pn=">'+a[i].m_title+"</a>"),"1"==a[i].m_attr_exclusive&&e.push('<i class="public-icon-unique">独家</i>'),"1"==a[i].m_attr_first_pub&&e.push('<i class="public-icon-first">首发</i>'),e.push('</h3><p class="feeds-item-text">'+s+"</p>"),e.push('<div class="feeds-item-info">'),e.push('<p class="labels">');for(var l=a[i].m_label_names,r=0;r<l.length;r++)e.push('<span class="label">'),e.push('<a class="labelnm" href="http://baijia.baidu.com/?tn=listarticle&labelid='),e.push(l[r].m_id+'" target="_blank">'+l[r].m_name+"</a>"),e.push("</span>");e.push("</p>"),a.isAuthor||(e.push('<a href="'+a[i].m_writer_url+'" class="feeds-item-author" target="_blank">'),e.push(a[i].m_writer_name+"</a>")),"0"===a[i].m_writer_account_type&&e.push('<i class="public-v"></i>'),e.push('<span class="tm">'+a[i].m_create_time+"</span>"),e.push('<span class="count">阅读（'+a[i].hotcount+"）</span>");var m=t.generateTemplate();e.push(m),e.push("</div></div>")}return e.join("")}var e=$("#rendermore"),i=baidu.g("feeds"),p=!1,u=new t({feedList:"#feeds",feedItem:".feeds-item",title:"h3 a",url:"h3 a",imgUrl:".feeds-item-pic img"});u.init(),$("#rendermore").on("click","a",function(){var t=baidu.dom.last("feeds").id.match(/\d.*/)[0];if(!p){if(p=!0,e.html('<span class="loading"><i class="i"></i>正在加载</span>'),m){var u="/api/common?f=pullsubscribearticle&uid="+n.uid;u+="&type=1&page="+n.page+"&pagesize=",u+=n.pagesize+"&prevarticalid="+t}else if(s){var u="/ajax/labellatestarticle?page="+n.page;u+="&pagesize="+n.pagesize+"&labelid="+n.labelid,u+="&prevarticalid="+t}else if(r){var u="/ajax/labellatestarticle?page="+n.page;u+="&pagesize="+n.pagesize+"&labelid="+n.labelid,u+="&prevarticalid="+t+"&flagtogether=1"}else if(l){var u="/ajax/labellatestarticle?page="+n.page;u+="&pagesize="+n.pagesize+"&authorid="+n.authorid,u+="&prevarticalid="+t+"&flagtogether=1"}baidu.ajax.get(u,function(s,t){var l=baidu.json.parse(t);if(m)if(0===l.errno&&l.data&&l.data.length>0){var r=a(l.data);baidu.dom.insertHTML(i,"beforeEnd",r),n.articalListnum+=l.data.length,e.html('<a href="javascript:;"><span>加载更多</span></a>'),p=!1,n.page+=1}else e.html("<span>没有了，亲！</span>");else if(0===l.errno&&l.data.list&&l.data.list.length>0){var r=a(l.data.list);baidu.dom.insertHTML(i,"beforeEnd",r),n.articalListnum+=l.data.list.length,n.articalListnum>=l.data.total?e.html("<span>没有了，亲！</span>"):(e.html('<a href="javascript:;"><span>加载更多</span></a>'),p=!1),n.page+=1}else e.html("<span>没有了，亲！</span>")})}})})}var t=a("common:widget/share/share.js");a("common:widget/dep/jquery/jquery.js"),a("common:widget/dep/tangram/tangram.js"),i.exports={init:s}});
;define("home:widget/page_module/listauthor/listauthor.js",function(a,t,s){function i(a){function t(a){var t="";t="add"==a?"#rss_tip1":"cancel"==a?"#rss_tip2":"#rss_tip3",$(t).css({top:(window.innerHeight-76)/2,left:(window.innerWidth-470)/2}).show(),setTimeout(function(){$(t).hide()},2e3)}baidu.event.on;Fe=baidu;e.init("ONE_LEVEL_HOT","c=wemedia");var s,i={tokentm:a.tokentm,token:a.token},r=a.uid,o=40,n=!0,u={id:"list-0",dataid:"2"},l={"list-0":{totalpage:1,currentpage:1},"list-1":{totalpage:1,currentpage:1},"list-2":{totalpage:1,currentpage:1},"list-3":{totalpage:1,currentpage:1},"list-4":{totalpage:1,currentpage:1},"list-5":{totalpage:1,currentpage:1},"author-list-rss":{totalpage:1,currentpage:1}};baidu.dom.ready(function(){function a(){if(!$("#login").is(":hidden"))return baidu.g("login").click(),!1;var a,s,e,o=$(this),n=o.find(".author_rsst").text(),u=o.closest("li"),l=u.data("mid"),d=o.closest("li").data("browsenum"),c=o.closest("li").data("articlenum"),h=o.closest("li").find(".author-pic").attr("href"),p=o.closest("li").find(".author-pic img").attr("src"),m=o.closest("li").find(".author-name").text(),f=o.closest("li").data("accounttype"),g=o.closest("li").find(".author-summary").text();if("已关注"==n?(e=2,a="关注",s="author_rssi add"):"关注"==n&&(e=1,a="已关注",s="author_rssi minus"),1===e&&$("#author-list-rss li").length>=100)return t("full"),!1;if(i.token)var v="/ajax/subscribe?uid="+r+"&mid="+l+"&type=1&status="+e+"&token="+i.token+"&time="+i.tokentm+"&t="+ +new Date;else var v="/ajax/subscribe?uid="+r+"&mid="+l+"&type=1&status="+e+"&t="+ +new Date;baidu.ajax.get(v,function(i,r){var n=baidu.json.parse(r);if(0==n.errno){var v=!1;o.find(".author_rsst").text(a),o.find(".author_rssi").removeClass().addClass(s),1==e?($(".info_box li").each(function(a,t){var s=$(t),i=s.data("mid"),e=[];i===l&&(e.push('<li data-mid="'+l+'" class="author-item-li">'),e.push('<div class="author-info"><i class="author-pic">'),e.push('<a href="'+h+'" target="_blank">'),e.push(p?'<img src="'+p+'"></a>':'<i class="defaultAvt"></i></a>'),e.push('</i><p><a class="name" href="'+h),e.push('" target="_blank">'+m+"</a>"),0===f&&e.push('<i class="listauthor-vi"></i>'),e.push("</p>"),e.push('<p class="summary">'+g+"</p>"),e.push('<p class="author-rss">'),e.push('<a class="btn" href="javascript:;">'),e.push('<i class="author_rssi minus"></i><span class="author_rsst">已关注</span>'),e.push("</a></p></div>"),e.push('<div class="data">文章<span>'+c),e.push("</span> 阅读<span>"+d+"</span></div></li>"),$("#author-list-rss").append(e.join("")),v=!0)}),v||$(".author-list li").each(function(a,t){var s=$(t),i=s.data("mid");i===l&&$("#author-list-rss").append(s.removeClass("active").clone())}),t("add")):2==e&&("author-list-rss"===o.closest("ul").attr("id")?(u.remove(),$(".author-list li").each(function(a,t){var s=$(t),i=s.data("mid");i===l&&(s.find(".author_rsst").text("关注"),s.find(".author_rssi").removeClass().addClass("author_rssi add"))}),$(".info_box li").each(function(a,t){$(t).data("mid")===l&&($(t).find(".author_rsst").text("关注"),$(t).find(".author_rssi").removeClass().addClass("author_rssi add"))})):o.closest(".info_box").length?$(".author-list li").each(function(a,t){var s=$(t),i=s.data("mid");i===l&&("author-list-rss"===s.closest("ul").attr("id")?s.remove():(s.find(".author_rsst").text("关注"),s.find(".author_rssi").removeClass().addClass("author_rssi add")))}):($(".info_box li").each(function(a,t){var s=$(t),i=s.data("mid");i===l&&(s.find(".author_rsst").text("关注"),s.find(".author_rssi").removeClass().addClass("author_rssi add"))}),$("#author-list-rss").each(function(a,t){var s=$(t),i=s.data("mid");i===l&&s.remove()})),t("cancel"))}})}function e(){var a=$(".loading"),t=a[0].getBoundingClientRect().top,s=window.innerHeight||document.documentElement.clientHeight;if(s-t>100&&l[u.id].totalpage>l[u.id].currentpage&&n){if(a.removeClass("novis"),n=!1,"author-list-rss"!==u.id)var i="/ajax/getcategorywriter?page="+(l[u.id].currentpage+1)+"&pagesize="+o+"&categoryid="+u.dataid+"&ac=1";else var i="/ajax/getcategorywriter?page="+(l[u.id].currentpage+1)+"&pagesize="+o+"&ac=2";$.ajax({url:i,type:"GET",dataType:"json",success:function(t){if("0"==t.errno){var s,i=[];s="author-list-rss"!==u.id?t.data.authorList:t.data.list,$.each(s,function(a,t){i.push('<li data-mid="'+t.ID+'" class="author-item-li">'),i.push('<div class="author-info"><i class="author-pic">'),i.push('<a href="http://'+t.m_domain+'.baijia.baidu.com/">'),i.push(t.m_image_url?'<img src="'+t.m_image_url+'"></a>':'<i class="defaultAvt"></i></a>'),i.push('</i><p class="userinf"><a class="name" href="http://'+t.m_domain),i.push('.baijia.baidu.com/" target="_blank">'+t.m_name+"</a>"),i.push("0"==t.m_account_type?'<i class="public-v"></i>':"</p>"),i.push('<p class="summary">'+t.m_summary+"</p>"),i.push('<p class="author-rss">'),i.push('<a class="btn" href="javascript:;">'),"author-list-rss"!==u.id?t.is_subscribe?(i.push('<i class="author_rssi minus"></i>'),i.push('<span class="author_rsst">已关注</span>')):i.push('<i class="author_rssi add"></i><span class="author_rsst">关注</span>'):i.push('<i class="author_rssi minus"></i><span class="author_rsst">已关注</span>'),i.push("</a></p></div>"),i.push('<div class="data">文章<span>'+t.article_num+"</span> 阅读<span>"+t.browse_num+"</span></div></li>")}),$("#"+u.id).append(i.join("")),n=!0,l[u.id].currentpage++,a.addClass("novis")}}})}}$.each($(".author-list"),function(a,t){var s=$(t),i=s.attr("id"),e=s.data("total");e>o&&(l[i].totalpage=Math.ceil(e/o))}),$(".author-list").delegate("li","click",function(a){if(!$(a.target).hasClass("btn")&&!$(a.target).hasClass("author_rssi")&&!$(a.target).hasClass("author_rsst")){var t=$(this).find(".name").attr("href");window.open(t,"_blank")}}),$(".author-list").delegate("li","mouseenter",function(){$(this).addClass("active")}).delegate("li","mouseleave",function(){$(this).removeClass("active")}),$(".info_box").delegate("li","mouseenter",function(){$(this).addClass("active")}).delegate("li","mouseleave",function(){$(this).removeClass("active")}),$("#index_tab").delegate("li","mouseenter",function(){var a=$(this),t=a.data("type");s&&clearTimeout(s),s=setTimeout(function(){$("#index_tab li").each(function(a,t){$(t).removeClass("active")}),a.addClass("active"),$(".author-list").each(function(a,s){var i=$(s).data("name");i==t?($(s).show(),u.id=$(s).attr("id"),u.dataid=$(s).data("id")):$(s).hide()})},500)}).delegate("li","mouseleave",function(){clearTimeout(s)}),$(".author-list").on("click",".author-rss .btn",a),$(".info_box").on("click",".author-rss .btn",a),$(window).scroll(e)})}var e=a("common:widget/clickMonitor/clickMonitor.js");a("common:widget/dep/tangram/tangram.js"),a("common:widget/dep/baiduTemplate/baiduTemplate.js"),a("common:widget/dep/jquery/jquery.js"),s.exports={init:i}});
;define("home:widget/page_module/listtopic/listtopic.js",function(i,a,t){function n(i){var a=i.firstid;e.init("BAIJIA_PAGE","c=zhenglineglist"),baidu.dom.ready(function(){function i(i){var a=[];return a.push('<div class="past-list-item">','<span class="num">'+i.m_title2+"</span>",'<a href="/?tn=topic&topicid='+i.ID+'" class="img" data-no-set-img-margin="1">','<img src="'+i.m_image_url+'"/></a>','<a href="/?tn=topic&topicid='+i.ID+'" class="title" ',">"+i.m_title+"</a>",'<p class="summary">'+i.m_summary.substring(0,40)+"...</p>",'<a class="link" href="/?tn=topic&topicid='+i.ID+'">','进入专题<i class="i iarr"></i></a>',"</div>"),a.join("")}function t(){n.html('<span class="loading"><i class="i"></i>正在加载</span>'),baidu.ajax.get("/ajax/topiclist?firstid="+a+"&pagesize=18&page="+o,function(a,t){var r=baidu.json.parse(t),m="";if(0==r.errno){for(var c=0;c<r.data.list.length;c++)m+=i(r.data.list[c]);baidu.dom.insertHTML(e,"beforeEnd",m),n.html(18*o>r.data.total?"<span>没有了，亲！</span>":'<a href="javascript:;"><span>加载更多</span></a>'),o++}s("#past-list")})}var n=$("#rendermore"),e=baidu.g("past-list"),o=2;n.on("click","a",t)})}function s(i){function a(i,a,t,n){a.css({"margin-left":(t-n)/2+"px"}),i.removeAttr("data-no-set-img-margin")}var t=$(i).find(".img[data-no-set-img-margin=1]");t.each(function(i,t){var n=$(t),s=n.find("img"),e=n.width(),o=s.width();o>0?a(n,s,e,o):s.load(function(){a(n,s,e,s.width())})})}var e=i("common:widget/clickMonitor/clickMonitor.js");i("common:widget/dep/jquery/jquery.js"),i("common:widget/dep/tangram/tangram.js"),i("common:widget/dep/baiduTemplate/baiduTemplate.js"),t.exports={init:n,moveImagePosition:s}});
;define("home:widget/page_module/search/search.js",function(e,a,t){function s(e){function a(e){for(var a,t=[],s={},i=0;null!=(a=e[i]);i++)s[a]||(t.push(a),s[a]=!0);return t}function t(e){for(var t=0;t<l.length;t++){var s=new RegExp(l[t],"ig"),i=e.match(s);if(i)for(var r=a(i),n=0;r&&n<r.length;n++){var m=new RegExp(r[n],"g");e=e.replace(m,"#{FONT}"+r[n]+"#{FONT1}")}}return e=e.replace(/#{FONT}/g,'<font color="#ce0000">'),e=e.replace(/#{FONT1}/g,"</font>")}function s(){for(var e=baidu.dom.query(".feeds-item h3 a"),a=baidu.dom.query(".feeds-item .feeds-item-text"),s=baidu.dom.query(".author-m .author-name a"),i=0;i<e.length;i++)e[i].innerHTML=t(e[i].innerHTML);for(var r=0;r<a.length;r++){var n=a[r].innerHTML,l=n.lastIndexOf(m);l>-1&&(a[r].innerHTML=t(n.substr(0,l))+n.substr(l,n.length))}for(var u=0;u<s.length;u++)s[u].innerHTML=t(s[u].innerHTML)}function r(e){for(var a=[],t=0;t<e.length;t++){e[t].m_image_url&&"undefined"!==e[t].m_image_url?(a.push('<div class="feeds-item hasImg" id="item-'+e[t].ID+'">'),a.push('<p class="feeds-item-pic"><a href="'+e[t].m_display_url+'" target="_blank" mon="col=13&pn=&a=12"><img src="'+e[t].m_image_url+'"/></a></p>')):a.push('<div class="feeds-item" id="item-'+e[t].ID+'">'),a.push('<h3><a href="'+e[t].m_display_url+'" target="_blank" mon="col=13&pn=">'),a.push(e[t].m_title+"</a>"),"1"==e[t].m_attr_exclusive&&a.push('<i class="public-icon-unique">独家</i>'),"1"==e[t].m_attr_first_pub&&a.push('<i class="public-icon-first">首发</i>'),a.push('</h3><p class="feeds-item-text">'+e[t].m_summary+"</p>"),a.push('<div class="feeds-item-info">'),a.push('<p class="labels">');for(var s=e[t].m_label_names,r=0;r<s.length;r++)a.push('<span class="label">'),a.push('<a class="labelnm" href="http://baijia.baidu.com/?tn=listarticle&labelid='),a.push(s[r].m_id+'" target="_blank">'+s[r].m_name+"</a>"),a.push("</span>");a.push("</p>"),e.isAuthor||(a.push('<a href="'+e[t].m_writer_url+'" '),a.push('class="feeds-item-author" target="_blank">'+e[t].m_writer_name+"</a>")),"0"===e[t].m_writer_account_type&&a.push('<i class="public-v"></i>'),a.push('<span class="tm">'+e[t].m_create_time+"</span>"),a.push('<span class="count">阅读（'+e[t].hotcount+"）</span>");var n=i.generateTemplate();a.push(n),a.push("</div></div>")}return a.join("")}var n=(baidu.event.on,{page:2,pagesize:20,total:20}),l=e.terms,m=e.word;l=a(l),s(),baidu.dom.ready(function(){function e(){if(!u){u=!0,s.html('<span class="loading"><i class="i"></i>正在加载</span>');var e="/ajax/searcharticle?page="+n.page;e+="&pagesize="+n.pagesize+"&word="+encodeURIComponent(m),baidu.ajax.get(e,function(e,a){var i=baidu.json.parse(a);if(0===i.errno&&i.data.list&&i.data.list.length>0){for(var m=0;m<i.data.list.length;m++){var o=i.data.list[m];o.m_summary&&(i.data.list[m].m_summary=t(o.m_summary.length>100?o.m_summary.substr(0,100)+"...":o.m_summary)),o.m_title&&(i.data.list[m].m_title=t(o.m_title.length>23?o.m_title.substr(0,23)+"...":o.m_title))}var d=r(i.data.list);baidu.dom.insertHTML(l,"beforeEnd",d),n.page+=1,n.total+=i.data.list.length,u=!1,s.html(n.total>=i.data.total?"<span>没有了，亲！</span>":'<a href="javascript:;"><span>加载更多</span></a>')}else s.html("<span>没有了，亲！</span>")})}}var a=new i({feedList:"#feeds",feedItem:".feeds-item",title:"h3 a",url:"h3 a",imgUrl:".feeds-item-pic img"});a.init(),$(".author-list").delegate("li","mouseenter",function(){$(this).addClass("active")}).delegate("li","mouseleave",function(){$(this).removeClass("active")}).delegate("li","click",function(e){var a=$(e.currentTarget).find(".name").attr("href");window.open(a,"_blank")});var s=$("#rendermore"),l=baidu.g("feeds"),u=!1;$("#rendermore").on("click","a",e)})}var i=e("common:widget/share/share.js");e("common:widget/dep/jquery/jquery.js"),e("common:widget/dep/tangram/tangram.js"),e("common:widget/dep/baiduTemplate/baiduTemplate.js"),t.exports={init:s}});
;define("home:widget/page_module/topic/topic.js",function(t,a,i){function e(t){o.init("BAIJIAZHENGMING_PAGE","c=zhengming"),baidu.dom.ready(function(){function a(t,a,i){var e,s=[];return e=t.m_artical_summary.length>62?t.m_artical_summary.substr(0,59)+"...":t.m_artical_summary,"support"==i?(s.push("<li>"),s.push('<a href="'+t.m_artical_url+'" target="_blank" class="pic" mon="name=bjzm_support">'),s.push('<img src="'+t.m_artical_image_url+'" class="frontcover"></a>'),s.push('<h3 class="article_head">'),s.push('<a href="'+t.m_artical_url+'" class="article_title" '),s.push('target="_blank" mon="name=bjzm_support">'),s.push(t.m_artical_title+"</a></h3>"),s.push('<p class="article_body">'+e+"</p>"),s.push('<p class="article_stat">'),"0"!==t.m_writer_id&&(s.push('<a href="'+a[t.m_writer_id].writer_url),s.push('" class="article_author" target="_blank" mon="name=bjzm_support">'),s.push(a[t.m_writer_id].writer_name+"</a>")),s.push('<span class="article_time">'+t.m_create_time_format+"</span></p></li>")):(s.push("<li>"),s.push('<a href="'+t.m_artical_url+'" target="_blank" class="pic" mon="name=bjzm_oppose">'),s.push('<img src="'+t.m_artical_image_url+'" class="frontcover"></a>'),s.push('<h3 class="article_head">'),s.push('<a href="'+t.m_artical_url+'" class="article_title" '),s.push('target="_blank" mon="name=bjzm_oppose">'),s.push(t.m_artical_title+"</a></h3>"),s.push('<p class="article_body">'+e+"</p>"),s.push('<p class="article_stat">'),"0"!==t.m_writer_id&&(s.push('<a href="'+a[t.m_writer_id].writer_url),s.push('" class="article_author" target="_blank" mon="name=bjzm_oppose">'),s.push(a[t.m_writer_id].writer_name+"</a>")),s.push('<span class="article_time">'+t.m_create_time_format+"</span></p></li>")),s.join("")}function i(a,i){var e="",o="";if(i?(e="<div class='voted_tip'></div><span class='vote_tip_txt'>您已经投过票了！</span>",o="<div class='voted_tip'></div><span class='vote_tip_txt'>您已经投过票了！</span>"):(e='<div class="vote_tip"></div><span class="vote_tip_txt">成功支持了正方观点</span>',o='<div class="vote_tip"></div><span class="vote_tip_txt">成功支持了反方观点</span>'),"support"==a)if(votedSupport)baidu.g("pk_dia_support_title").innerHTML="<div class='voted_tip'></div><span class='vote_tip_txt'>您已经投过票了！</span>",votedSupport.show();else{var n='<div class="pk_dia_title" id="pk_dia_support_title">'+e;n+='</div><div class="pk_dia_txt" >发表你的观点给“<span class="pk_dia_opinion">',n+=t.guandian1+'</span></div><div class="mod-comment" id="support-mw-comment">',n+='<div class="comment-box"><div class="opt"><p class="nm">',n+='<a href="http://i.baidu.com/" target="_blank">'+l,n+='</a><em>|</em><a href="javascript:;" class="logout">退出</a></p></div>',n+='<div class="cmtbox"><p class="avt"><img src="'+m+'"></p>',n+='<i class="tarea"><textarea placeholder="随便说点什么吧"></textarea></i></div>',n+='<p class="btns3"><span class="checknum">还可以输入<em>250</em>个字</span>',n+='<a href="javascript:;" class="btn btndis cmtbtn">评论</a></p>',n+='</div><div class="comment-success"></div><div class="comment-fail"></div></div>',window.votedSupport=p.notice({content:n,height:360,width:500}),setTimeout(function(){baidu.browser.ie&&baidu.browser.ie<7||(votedSupport.setPosition({top:baidu.page.getViewHeight()/2-150}),$(".tang-dialog").css("position","fixed"))},200);var r=new s("support-mw-comment",{url:encodeURIComponent(window.location.href),articleId:t.articleId,displayname:t.displayname,subscribename:"baijia",userImage:t.userImage,opinion:"support",nocmtlist:!0,cmtToRootId:"support-comment"});r.init()}else if(votedOppose)baidu.g("pk_dia_oppose_title").innerHTML="<div class='voted_tip'></div><span class='vote_tip_txt'>您已经投过票了！</span>",votedOppose.show();else{var n='<div class="pk_dia_title" id="pk_dia_oppose_title">'+o;n+='</div><div class="pk_dia_txt" >发表你的观点给“<span class="pk_dia_opinion">',n+=t.guandian2+'</span></div><div class="mod-comment" id="oppose-mw-comment">',n+='<div class="comment-box"><div class="opt"><p class="nm">',n+='<a href="http://i.baidu.com/" target="_blank">'+l,n+='</a><em>|</em><a href="javascript:;" class="logout">退出</a></p></div>',n+='<div class="cmtbox"><p class="avt"><img src="'+m+'"></p>',n+='<i class="tarea"><textarea placeholder="随便说点什么吧"></textarea></i></div>',n+='<p class="btns3"><span class="checknum">还可以输入<em>250</em>个字</span>',n+='<a href="javascript:;" class="btn btndis cmtbtn">评论</a></p>',n+='</div><div class="comment-success"></div><div class="comment-fail"></div></div>',window.votedOppose=p.notice({content:n,height:360,width:500}),setTimeout(function(){baidu.browser.ie&&baidu.browser.ie<7||(votedOppose.setPosition({top:baidu.page.getViewHeight()/2-150}),$(".tang-dialog").css("position","fixed"))},200);var c=new s("oppose-mw-comment",{url:encodeURIComponent(window.location.href),articleId:t.articleId,displayname:t.displayname,subscribename:"baijia",userImage:t.userImage,opinion:"oppose",nocmtlist:!0,cmtToRootId:"oppose-comment"});c.init()}}function e(a){return l?u?void i(a,u):void baidu.ajax.get("/ajax/topicstandpoint?type=topic&topicid="+t.articleId+"&action="+a,function(t,e){var s=baidu.json.parse(e);0==s.errno&&1==s.data?("support"==a&&(baidu.dom.query(".opinion_vote .support .num")[0].innerHTML=_+1),"oppose"==a&&(baidu.dom.query(".opinion_vote .oppose .num")[0].innerHTML=v+1),i(a,u),u=!0):n({type:"error",content:"投票失败！",autohide:!0})}):void instance.show()}var o=baidu.g("more_article"),r=baidu.g("article1"),c=baidu.g("article2"),d=2,l=t.displayname,m=t.userinfoimage||"http://himg.bdimg.com/sys/portrait/item/982f4a616d65736a697869616f6875694206";o&&baidu.event.on(o,"click",function(){baidu.ajax.get("/ajax/topicarticlelist?topicid="+t.articleId+"&pagesize=4&page="+d,function(t,i){var e=baidu.json.parse(i),s="",p="";if(0==e.errno){for(var n=0;n<e.data[1].list.length;n++)s+=a(e.data[1].list[n],e.writerList,"support");for(var l=0;l<e.data[2].list.length;l++)p+=a(e.data[2].list[l],e.writerList,"oppose");baidu.dom.insertHTML(r,"beforeEnd",s),baidu.dom.insertHTML(c,"beforeEnd",p),d++,4*d>e.data[1].total&&4*d>e.data[2].total&&baidu.setStyle(o,"display","none")}})});var u=+t.voteflag;window.votedOppose=null,window.votedSupport=null;var _=parseInt(t.counter1,10)||0,v=parseInt(t.counter2,10)||0,h=baidu.g("pk_for_txt"),b=baidu.g("pk_against_txt");h&&baidu.event.on(h,"click",function(){e("support")}),b&&baidu.event.on(b,"click",function(){e("oppose")})})}var s=t("home:widget/comment/comment.js"),o=t("common:widget/clickMonitor/clickMonitor.js"),p=t("common:widget/zmt/zmt.js"),n=t("common:widget/notice/notice.js");t("common:widget/dep/jquery/jquery.js"),t("common:widget/dep/tangram/tangram.js"),t("common:widget/dep/baiduTemplate/baiduTemplate.js"),i.exports={init:e}});
;define("home:widget/page_module/userinfo/userinfo.js",function(t,e,i){function n(t){a.init("ONE_LEVEL_HOT","c=wemedia");var e={tokentm:t.tokentm,token:t.token,uid:t.uid};$(function(){function t(){var t="#rss_tip2";$(t).css({top:(window.innerHeight-76)/2,left:(window.innerWidth-470)/2}).show(),setTimeout(function(){$(t).hide()},2e3)}$(".author-list").delegate("li","click",function(t){if(!$(t.target).hasClass("btn")&&!$(t.target).hasClass("author_rssi")&&!$(t.target).hasClass("author_rsst")){var e=$(this).find(".name").attr("href");window.open(e,"_blank")}}),$(".author-list").delegate("li","mouseenter",function(){$(this).addClass("active")}).delegate("li","mouseleave",function(){$(this).removeClass("active")}),$(".author-rss").delegate(".btn","click",function(){var i,n=$(this),a=n.closest("li").data("mid");e.token?(i="/ajax/subscribe?uid="+e.uid+"&mid="+a+"&type=1&status=2&token=",i+=e.token+"&time="+e.tokentm+"&t="+ +new Date):i="/ajax/subscribe?uid="+e.uid+"&mid="+a+"&type=1&status=2&t="+ +new Date,baidu.ajax.get(i,function(e,i){var a=baidu.json.parse(i);0==a.errno&&(n.closest("li").remove(),t())})})})}var a=t("common:widget/clickMonitor/clickMonitor.js");t("common:widget/dep/jquery/jquery.js"),t("common:widget/dep/tangram/tangram.js"),i.exports={init:n}});
;define("home:widget/qrcode/qrcode.js",function(t,r,i){t("common:widget/dep/jquery/jquery.js");var o={init:function(){this.aboutAttention(),this.initScroll()},aboutAttention:function(){var t=$("#right-qrimg-for-listarticle"),r=$("#right-qrlink-for-listarticle"),i=$("#right-qrimg-for-attention"),o=$("#right-qrlink-for-attention");location.search.indexOf("tn=attention")>0&&(t.hide(),r.hide(),i.show(),o.show())},initScroll:function(){var t=$(".right-qrcode-wrapper, .right-qrcode-wrapper-for-article"),r=t.offset().top-70,i=$("#footer"),o=$(window),e=o.height();o.scroll(function(){var n=o.scrollTop(),a=i.offset().top;n>=r?t.addClass("right-qrcode-wrapper-fixed"):t.removeClass("right-qrcode-wrapper-fixed"),n+e>=a?t.hide():t.show()})}};i.exports=o});
;define("home:widget/qrcodeForArticle/qrcodeForArticle.js",function(r,t,e){r("common:widget/dep/jquery/jquery.js");var o={init:function(){this.adHandle(this.initScroll)},adSelectors:[".l-header-ad-bg",".l-right-bottom-cloud-ad",".l-right-bottom-text-ad",".l-right-bottom-img-ad"],adHandle:function(r){function t(){var t=!0;$.each(o,function(){var r=$(this);return 0===r.children().length?(t=!1,!1):void 0}),t===!0&&(r.call(this),clearInterval(i))}var e=this.adSelectors,o=[];if($.each(e,function(r,t){var e=$(t);e.length>0&&o.push(e)}),0===o.length)return void r.call(this);var i=setInterval(t,500)},initScroll:function(){var r=$(".right-qrcode-wrapper-for-article"),t=r.offset().top-70,e=$("#footer"),o=$(window),i=o.height(),a=e.offset().top;o.scroll(function(){var e=o.scrollTop();e>=t?r.addClass("right-qrcode-wrapper-for-article-fixed"):r.removeClass("right-qrcode-wrapper-for-article-fixed"),e+i>=a?r.hide():r.show()})}};e.exports=o});
;define("home:widget/slide/slide.js",function(i,t){i("common:widget/dep/jquery/jquery.js");var n=i("common:widget/lazyload/lazyload.js"),e=function(){this.warp=$(".slide"),this.init()};e.prototype={init:function(){this.nowPic=0,this.initLoad(),this.getDom(),this.btnEvent(),this.choiceEvent()},initLoad:function(){var i=this;new n.lazyload({warp:".slide",placeHolder:"",url:"data-url",loadType:"fn",fn:function(){i.warp.removeClass("loadslide").hide().fadeIn(500)}})},getDom:function(){this.bpicItem=this.warp.find("li"),this.spicItem=this.warp.find("dd"),this.preBtn=this.warp.find(".pre"),this.nextBtn=this.warp.find(".next")},btnEvent:function(){var i=this;this.warp.mouseenter(function(){i.preBtn.show(),i.nextBtn.show()}).mouseleave(function(){i.preBtn.hide(),i.nextBtn.hide()}),this.preBtn.unbind().click(function(){i.core(i.nowPic-1)}),this.nextBtn.unbind().click(function(){i.core(i.nowPic+1)})},choiceEvent:function(){var i=this;this.spicItem.unbind().mouseenter(function(){i.core($(this).index())})},core:function(i){if(i==this.nowPic)return!1;var t=this;-1==i&&(i=this.bpicItem.length-1),i==this.bpicItem.length&&(i=0),this.bpicItem.eq(i).addClass("current"),this.bpicItem.eq(t.nowPic).removeClass("current"),this.spicItem.eq(i).find("div").stop().animate({top:70},200),this.spicItem.eq(t.nowPic).find("div").stop().animate({top:0},200),this.nowPic=i}},t.slide=e});